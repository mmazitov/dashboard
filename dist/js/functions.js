document.addEventListener("DOMContentLoaded",(()=>{initCharts()}));const initCharts=()=>{initChartRLQ(),initChartMZI(),initChartSurvey(),initChartKP(),initChartKI()},createChart=(t,e,a,r,n=[])=>new Chart(t,{type:e,data:a,options:r,plugins:n}),initChartRLQ=()=>{const t=document.getElementById("chart__area");if(!t)return;const e=getRLQData(),a=getRLQOptions();createChart(t,"line",e,a),styleChartArea(t,"0 0 10px 10px","rgba(241, 140, 92, 0.08)",136)},getRLQData=()=>({labels:Array(16).fill(""),datasets:[{label:"first",data:[50,47,44,42,42,44,46,47,45,43,39,36,35,35,36,40],fill:!0,borderWidth:0,tension:.4,backgroundColor:"rgba(241, 140, 92, 1)",pointRadius:0},{label:"second",data:[50,47,44,47,49,51,52,52,51,50,49,47,45,43,41,39],fill:!0,borderWidth:0,tension:.4,backgroundColor:"rgba(241, 140, 92, 0.32)",pointRadius:0}]}),getRLQOptions=()=>({plugins:{legend:{display:!1},annotation:{drawTime:"afterDatasetsDraw",annotations:createAnnotations(0,100,1,14,"#f0eae9",1)}},scales:createScales(0,100)}),createAnnotations=(t,e,a,r,n,i)=>{const o={};for(let t=0;t<4;t++){const l=e-(12+12*t);o[`line${t+1}`]={type:"line",yMin:l,yMax:l,xMin:a,xMax:r,borderColor:n,borderWidth:i}}return o},createScales=(t,e)=>({x:{ticks:{display:!1},grid:{display:!1},border:{display:!1}},y:{ticks:{display:!1},grid:{display:!1,drawTicks:!1},min:t,max:e,border:{display:!1}}}),styleChartArea=(t,e,a,r)=>{t.style.borderRadius=e,t.style.backgroundColor=a,t.height=r},initChartMZI=()=>{const t=document.getElementById("chart__doughnut--mzi");if(!t)return;const e=getMZIData(),a=getMZIOptions();createChart(t,"doughnut",e,a,[drawIconsPlugin()]),adjustChartHeight(t,10)},adjustChartHeight=(t,e)=>{const a=t.parentElement;if(!a)return;const r=a.clientHeight;t.height=r+e},getMZIData=()=>({labels:["Angry","Neutral","Happy"],datasets:[{data:[33.33,33.33,33.34],backgroundColor:Array(3).fill("rgba(217, 217, 217, 1)"),hoverBackgroundColor:Array(3).fill("rgba(217, 217, 217, 1)"),borderWidth:1,borderColor:"rgba(217, 217, 217, 1)",hoverBorderColor:"rgba(217, 217, 217, 1)"}]}),getMZIOptions=()=>({radius:"85%",cutout:"80%",circumference:220,rotation:250,responsive:!1,layout:{padding:{top:3}},plugins:{legend:{display:!1},tooltip:{enabled:!1}}}),drawIconsPlugin=()=>({id:"drawIcons",afterDraw:t=>{const e=t.ctx;e.save();t.getDatasetMeta(0).data.forEach(((t,a)=>{const{outerRadius:r,innerRadius:n}=t,i=(r+n)/2,o=calculateAngle(t,a),l=t.x+Math.cos(o)*i,s=t.y+Math.sin(o)*i;drawIcon(e,l,s,a)})),e.restore()}}),calculateAngle=(t,e)=>0===e?t.startAngle:2===e?t.endAngle:t.startAngle+(t.endAngle-t.startAngle)/2,drawIcon=(t,e,a,r)=>{t.globalAlpha=1,t.fillStyle="white",t.beginPath(),t.arc(e,a,16,0,2*Math.PI),t.fill(),t.lineWidth=4,t.strokeStyle="#fff",t.stroke(),t.font="24px Arial",t.textAlign="center",t.textBaseline="middle",t.fillStyle="black",t.fillText(["😡","😐","😀"][r],e,a),t.globalAlpha=1,t.fillStyle="rgba(255, 255, 255, 0.32)",t.beginPath(),t.arc(e,a,12,0,2*Math.PI),t.fill()},initChartSurvey=()=>{const t=document.getElementById("chart__bar--survey");if(!t)return;const e=getSurveyData(),a=getSurveyOptions();createChart(t,"bar",e,a)},getSurveyData=()=>({labels:Array.from({length:12},((t,e)=>String.fromCharCode(65+e))),datasets:[{data:[4.3,1.8,2.3,4.3,1.3,4.3,4.3,1.9,2.3,4.3,1.3,4.3],backgroundColor:["rgba(241, 140, 92, 1)"],borderWidth:0,barThickness:15,borderRadius:{topLeft:6,topRight:6,bottomRight:0,bottomLeft:0}}]}),getSurveyOptions=()=>({plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!1,min:1,max:5,ticks:{stepSize:1,font:{family:"Inter",size:12},color:"rgba(97, 110, 133, 1)",padding:0,callback:t=>`${t}    `},grid:{drawTicks:!1},border:{display:!1}},x:{ticks:{font:{family:"Inter",size:12},color:"rgba(97, 110, 133, 1)"},grid:{display:!1}}}}),initChartKP=()=>{const t=document.getElementById("chart__bar--kp");if(!t)return;const e=getKPData(),a=getKPOptions();createChart(t,"bar",e,a).options.plugins.legend.onClick=()=>{}},getKPData=()=>({labels:["KP1","KP2","KP3","KP4","KP5"],datasets:[{label:"KP Value",data:[85,70,20,60,20],backgroundColor:["rgba(81, 85, 195, 1)","rgba(89, 125, 190, 1)","rgba(95, 153, 187, 1)","rgba(101, 184, 183, 1)","rgba(108, 221, 177, 1)"],borderWidth:0,barThickness:"flex",borderRadius:{topLeft:6,topRight:6,bottomRight:0,bottomLeft:0}}]}),getKPOptions=()=>({plugins:{legend:{display:!0,position:"bottom",labels:{font:{family:"Inter",size:12},color:"rgba(97, 110, 133, 1)",boxWidth:12,boxHeight:12,generateLabels:t=>generateLegendLabels(t)}}},layout:{margin:{bottom:5}},scales:{y:{beginAtZero:!0,min:0,max:100,ticks:{stepSize:25,font:{family:"Inter",size:12},color:"rgba(97, 110, 133, 1)",callback:t=>`${t}%     `},grid:{drawTicks:!1},border:{display:!1}},x:{ticks:{font:{family:"Inter",size:12},color:"rgba(97, 110, 133, 1)"},grid:{display:!1}}}}),generateLegendLabels=t=>{const e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(((t,a)=>{const r=e.datasets[0];return{text:t,fillStyle:r.backgroundColor[a],hidden:!1,lineCap:"butt",lineDash:[],lineDashOffset:0,lineJoin:"miter",lineWidth:1,strokeStyle:r.backgroundColor[a],pointStyle:"rectRounded",borderRadius:4,rotation:0}})):[]},initChartKI=()=>{const t=document.querySelector(".chart__doughnut--ki"),e=t.querySelector(".chart__ki--outer"),a=t.querySelector(".chart__ki--inner"),r=210/39;for(let t=0;t<40;t++){const e=document.createElement("div");e.className="tick",e.style.transform=`rotate(${t*r}deg)`,a.appendChild(e)}const n=210/45;for(let t=0;t<46;t++){const a=document.createElement("div");a.className="tick",a.style.transform=`rotate(${t*n}deg)`,e.appendChild(a)}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZnVuY3Rpb25zLmpzIiwibmFtZXMiOlsiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiaW5pdENoYXJ0cyIsImluaXRDaGFydFJMUSIsImluaXRDaGFydE1aSSIsImluaXRDaGFydFN1cnZleSIsImluaXRDaGFydEtQIiwiaW5pdENoYXJ0S0kiLCJjcmVhdGVDaGFydCIsImN0eCIsInR5cGUiLCJkYXRhIiwib3B0aW9ucyIsInBsdWdpbnMiLCJDaGFydCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0UkxRRGF0YSIsImdldFJMUU9wdGlvbnMiLCJzdHlsZUNoYXJ0QXJlYSIsImxhYmVscyIsIkFycmF5IiwiZmlsbCIsImRhdGFzZXRzIiwibGFiZWwiLCJib3JkZXJXaWR0aCIsInRlbnNpb24iLCJiYWNrZ3JvdW5kQ29sb3IiLCJwb2ludFJhZGl1cyIsImxlZ2VuZCIsImRpc3BsYXkiLCJhbm5vdGF0aW9uIiwiZHJhd1RpbWUiLCJhbm5vdGF0aW9ucyIsImNyZWF0ZUFubm90YXRpb25zIiwic2NhbGVzIiwiY3JlYXRlU2NhbGVzIiwibWluWSIsIm1heFkiLCJ4U3RhcnQiLCJ4RW5kIiwiY29sb3IiLCJsaW5lU2l6ZSIsImkiLCJ5UG9zaXRpb24iLCJ5TWluIiwieU1heCIsInhNaW4iLCJ4TWF4IiwiYm9yZGVyQ29sb3IiLCJ4IiwidGlja3MiLCJncmlkIiwiYm9yZGVyIiwieSIsImRyYXdUaWNrcyIsIm1pbiIsIm1heCIsImJvcmRlclJhZGl1cyIsImhlaWdodCIsInN0eWxlIiwiZ2V0TVpJRGF0YSIsImdldE1aSU9wdGlvbnMiLCJkcmF3SWNvbnNQbHVnaW4iLCJhZGp1c3RDaGFydEhlaWdodCIsImFkanVzdG1lbnQiLCJjb250YWluZXIiLCJwYXJlbnRFbGVtZW50IiwiY29udGFpbmVySGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiaG92ZXJCYWNrZ3JvdW5kQ29sb3IiLCJob3ZlckJvcmRlckNvbG9yIiwicmFkaXVzIiwiY3V0b3V0IiwiY2lyY3VtZmVyZW5jZSIsInJvdGF0aW9uIiwicmVzcG9uc2l2ZSIsImxheW91dCIsInBhZGRpbmciLCJ0b3AiLCJ0b29sdGlwIiwiZW5hYmxlZCIsImlkIiwiYWZ0ZXJEcmF3IiwiY2hhcnQiLCJzYXZlIiwiZ2V0RGF0YXNldE1ldGEiLCJmb3JFYWNoIiwiZWxlbWVudCIsImluZGV4Iiwib3V0ZXJSYWRpdXMiLCJpbm5lclJhZGl1cyIsIm1pZGRsZVJhZGl1cyIsImFuZ2xlIiwiY2FsY3VsYXRlQW5nbGUiLCJNYXRoIiwiY29zIiwic2luIiwiZHJhd0ljb24iLCJyZXN0b3JlIiwic3RhcnRBbmdsZSIsImVuZEFuZ2xlIiwiZ2xvYmFsQWxwaGEiLCJmaWxsU3R5bGUiLCJiZWdpblBhdGgiLCJhcmMiLCJpY29uU2l6ZSIsIlBJIiwibGluZVdpZHRoIiwic3Ryb2tlU3R5bGUiLCJzdHJva2UiLCJmb250IiwidGV4dEFsaWduIiwidGV4dEJhc2VsaW5lIiwiZmlsbFRleHQiLCJnZXRTdXJ2ZXlEYXRhIiwiZ2V0U3VydmV5T3B0aW9ucyIsImZyb20iLCJsZW5ndGgiLCJfIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiYmFyVGhpY2tuZXNzIiwidG9wTGVmdCIsInRvcFJpZ2h0IiwiYm90dG9tUmlnaHQiLCJib3R0b21MZWZ0IiwiYmVnaW5BdFplcm8iLCJzdGVwU2l6ZSIsImZhbWlseSIsInNpemUiLCJjYWxsYmFjayIsInZhbHVlIiwiZ2V0S1BEYXRhIiwiZ2V0S1BPcHRpb25zIiwib25DbGljayIsInBvc2l0aW9uIiwiYm94V2lkdGgiLCJib3hIZWlnaHQiLCJnZW5lcmF0ZUxhYmVscyIsImdlbmVyYXRlTGVnZW5kTGFiZWxzIiwibWFyZ2luIiwiYm90dG9tIiwibWFwIiwiZGF0YXNldCIsInRleHQiLCJoaWRkZW4iLCJsaW5lQ2FwIiwibGluZURhc2giLCJsaW5lRGFzaE9mZnNldCIsImxpbmVKb2luIiwicG9pbnRTdHlsZSIsInF1ZXJ5U2VsZWN0b3IiLCJpbm5lciIsIm91dGVyIiwiZGVncmVlc1BlclRpY2tPdXRlciIsInRpY2siLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwidHJhbnNmb3JtIiwiYXBwZW5kQ2hpbGQiLCJkZWdyZWVzUGVyVGlja0lubmVyIl0sInNvdXJjZXMiOlsiZnVuY3Rpb25zLmpzIl0sIm1hcHBpbmdzIjoiQUFDQUEsU0FBU0MsaUJBQWlCLG9CQUFvQixLQUM3Q0MsWUFBWSxJQUliLE1BQU1BLFdBQWEsS0FDbEJDLGVBQ0FDLGVBQ0FDLGtCQUNBQyxjQUNBQyxhQUFhLEVBSVJDLFlBQWMsQ0FBQ0MsRUFBS0MsRUFBTUMsRUFBTUMsRUFBU0MsRUFBVSxLQUVqRCxJQUFJQyxNQUFNTCxFQUFLLENBQ3JCQyxPQUNBQyxPQUNBQyxVQUNBQyxZQUtJVixhQUFlLEtBQ3BCLE1BQU1NLEVBQU1ULFNBQVNlLGVBQWUsZUFDcEMsSUFBS04sRUFBSyxPQUNWLE1BQU1FLEVBQU9LLGFBQ1BKLEVBQVVLLGdCQUNoQlQsWUFBWUMsRUFBSyxPQUFRRSxFQUFNQyxHQUMvQk0sZUFBZVQsRUFBSyxnQkFBaUIsMkJBQTRCLElBQUksRUFJaEVPLFdBQWEsS0FBTSxDQUN4QkcsT0FBUUMsTUFBTSxJQUFJQyxLQUFLLElBQ3ZCQyxTQUFVLENBQ1QsQ0FDQ0MsTUFBTyxRQUNQWixLQUFNLENBQUMsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksSUFDbkVVLE1BQU0sRUFDTkcsWUFBYSxFQUNiQyxRQUFTLEdBQ1RDLGdCQUFpQix3QkFDakJDLFlBQWEsR0FFZCxDQUNDSixNQUFPLFNBQ1BaLEtBQU0sQ0FBQyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxJQUNuRVUsTUFBTSxFQUNORyxZQUFhLEVBQ2JDLFFBQVMsR0FDVEMsZ0JBQWlCLDJCQUNqQkMsWUFBYSxNQU1WVixjQUFnQixLQUFNLENBQzNCSixRQUFTLENBQ1JlLE9BQVEsQ0FBRUMsU0FB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YyxxQkFDaENFLEVBQVF4RixFQUFVc0YsY0FBYyxxQkFNaENHLEVBSmUsSUFJc0IsR0FFM0MsSUFBSyxJQUFJaEgsRUFBSSxFQUFHQSxFQUpXLEdBSWFBLElBQUssQ0FDNUMsTUFBTWlILEVBQU8zSixTQUFTNEosY0FBYyxPQUNwQ0QsRUFBS0UsVUFBWSxPQUNqQkYsRUFBS2hHLE1BQU1tRyxVQUFZLFVBQVVwSCxFQUFJZ0gsUUFDckNELEVBQU1NLFlBQVlKLEVBQ25CLENBR0EsTUFDTUssRUFmZSxJQWVzQixHQUUzQyxJQUFLLElBQUl0SCxFQUFJLEVBQUdBLEVBSFcsR0FHYUEsSUFBSyxDQUM1QyxNQUFNaUgsRUFBTzNKLFNBQVM0SixjQUFjLE9BQ3BDRCxFQUFLRSxVQUFZLE9BQ2pCRixFQUFLaEcsTUFBTW1HLFVBQVksVUFBVXBILEVBQUlzSCxRQUNyQ1IsRUFBTU8sWUFBWUosRUFDbkIiLCJpZ25vcmVMaXN0IjpbXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW5pdGlhbGl6ZSBjaGFydHMgd2hlbiB0aGUgRE9NIGNvbnRlbnQgaXMgbG9hZGVkXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XG5cdGluaXRDaGFydHMoKTtcbn0pO1xuXG4vLyBGdW5jdGlvbiB0byBpbml0aWFsaXplIGFsbCBjaGFydHNcbmNvbnN0IGluaXRDaGFydHMgPSAoKSA9PiB7XG5cdGluaXRDaGFydFJMUSgpO1xuXHRpbml0Q2hhcnRNWkkoKTtcblx0aW5pdENoYXJ0U3VydmV5KCk7XG5cdGluaXRDaGFydEtQKCk7XG5cdGluaXRDaGFydEtJKCk7XG59O1xuXG4vLyBGdW5jdGlvbiB0byBjcmVhdGUgYSBjaGFydCB3aXRoIGdpdmVuIHBhcmFtZXRlcnNcbmNvbnN0IGNyZWF0ZUNoYXJ0ID0gKGN0eCwgdHlwZSwgZGF0YSwgb3B0aW9ucywgcGx1Z2lucyA9IFtdKSA9PiB7XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuXHRyZXR1cm4gbmV3IENoYXJ0KGN0eCwge1xuXHRcdHR5cGUsXG5cdFx0ZGF0YSxcblx0XHRvcHRpb25zLFxuXHRcdHBsdWdpbnMsXG5cdH0pO1xufTtcblxuLy8gSW5pdGlhbGl6ZSBSTFEgY2hhcnRcbmNvbnN0IGluaXRDaGFydFJMUSA9ICgpID0+IHtcblx0Y29uc3QgY3R4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGFydF9fYXJlYVwiKTtcblx0aWYgKCFjdHgpIHJldHVybjtcblx0Y29uc3QgZGF0YSA9IGdldFJMUURhdGEoKTtcblx0Y29uc3Qgb3B0aW9ucyA9IGdldFJMUU9wdGlvbnMoKTtcblx0Y3JlYXRlQ2hhcnQoY3R4LCBcImxpbmVcIiwgZGF0YSwgb3B0aW9ucyk7XG5cdHN0eWxlQ2hhcnRBcmVhKGN0eCwgXCIwIDAgMTBweCAxMHB4XCIsIFwicmdiYSgyNDEsIDE0MCwgOTIsIDAuMDgpXCIsIDEzNik7XG59O1xuXG4vLyBHZXQgZGF0YSBmb3IgUkxRIGNoYXJ0XG5jb25zdCBnZXRSTFFEYXRhID0gKCkgPT4gKHtcblx0bGFiZWxzOiBBcnJheSgxNikuZmlsbChcIlwiKSxcblx0ZGF0YXNldHM6IFtcblx0XHR7XG5cdFx0XHRsYWJlbDogXCJmaXJzdFwiLFxuXHRcdFx0ZGF0YTogWzUwLCA0NywgNDQsIDQyLCA0MiwgNDQsIDQ2LCA0NywgNDUsIDQzLCAzOSwgMzYsIDM1LCAzNSwgMzYsIDQwXSxcblx0XHRcdGZpbGw6IHRydWUsXG5cdFx0XHRib3JkZXJXaWR0aDogMCxcblx0XHRcdHRlbnNpb246IDAuNCxcblx0XHRcdGJhY2tncm91bmRDb2xvcjogXCJyZ2JhKDI0MSwgMTQwLCA5MiwgMSlcIixcblx0XHRcdHBvaW50UmFkaXVzOiAwLFxuXHRcdH0sXG5cdFx0e1xuXHRcdFx0bGFiZWw6IFwic2Vjb25kXCIsXG5cdFx0XHRkYXRhOiBbNTAsIDQ3LCA0NCwgNDcsIDQ5LCA1MSwgNTIsIDUyLCA1MSwgNTAsIDQ5LCA0NywgNDUsIDQzLCA0MSwgMzldLFxuXHRcdFx0ZmlsbDogdHJ1ZSxcblx0XHRcdGJvcmRlcldpZHRoOiAwLFxuXHRcdFx0dGVuc2lvbjogMC40LFxuXHRcdFx0YmFja2dyb3VuZENvbG9yOiBcInJnYmEoMjQxLCAxNDAsIDkyLCAwLjMyKVwiLFxuXHRcdFx0cG9pbnRSYWRpdXM6IDAsXG5cdFx0fSxcblx0XSxcbn0pO1xuXG4vLyBHZXQgb3B0aW9ucyBmb3IgUkxRIGNoYXJ0XG5jb25zdCBnZXRSTFFPcHRpb25zID0gKCkgPT4gKHtcblx0cGx1Z2luczoge1xuXHRcdGxlZ2VuZDogeyBkaXNwbGF5OiBmYWxzZSB9LFxuXHRcdGFubm90YXRpb246IHtcblx0XHRcdGRyYXdUaW1lOiBcImFmdGVyRGF0YXNldHNEcmF3XCIsXG5cdFx0XHRhbm5vdGF0aW9uczogY3JlYXRlQW5ub3RhdGlvbnMoMCwgMTAwLCAxLCAxNCwgXCIjZjBlYWU5XCIsIDEpLFxuXHRcdH0sXG5cdH0sXG5cdHNjYWxlczogY3JlYXRlU2NhbGVzKDAsIDEwMCksXG59KTtcblxuLy8gQ3JlYXRlIGFubm90YXRpb25zIGZvciB0aGUgY2hhcnRcbmNvbnN0IGNyZWF0ZUFubm90YXRpb25zID0gKG1pblksIG1heFksIHhTdGFydCwgeEVuZCwgY29sb3IsIGxpbmVTaXplKSA9PiB7XG5cdGNvbnN0IGFubm90YXRpb25zID0ge307XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XG5cdFx0Y29uc3QgeVBvc2l0aW9uID0gbWF4WSAtICgxMiArIGkgKiAxMik7XG5cdFx0YW5ub3RhdGlvbnNbYGxpbmUke2kgKyAxfWBdID0ge1xuXHRcdFx0dHlwZTogXCJsaW5lXCIsXG5cdFx0XHR5TWluOiB5UG9zaXRpb24sXG5cdFx0XHR5TWF4OiB5UG9zaXRpb24sXG5cdFx0XHR4TWluOiB4U3RhcnQsXG5cdFx0XHR4TWF4OiB4RW5kLFxuXHRcdFx0Ym9yZGVyQ29sb3I6IGNvbG9yLFxuXHRcdFx0Ym9yZGVyV2lkdGg6IGxpbmVTaXplLFxuXHRcdH07XG5cdH1cblx0cmV0dXJuIGFubm90YXRpb25zO1xufTtcblxuLy8gQ3JlYXRlIHNjYWxlcyBmb3IgdGhlIGNoYXJ0XG5jb25zdCBjcmVhdGVTY2FsZXMgPSAobWluWSwgbWF4WSkgPT4gKHtcblx0eDoge1xuXHRcdHRpY2tzOiB7IGRpc3BsYXk6IGZhbHNlIH0sXG5cdFx0Z3JpZDogeyBkaXNwbGF5OiBmYWxzZSB9LFxuXHRcdGJvcmRlcjogeyBkaXNwbGF5OiBmYWxzZSB9LFxuXHR9LFxuXHR5OiB7XG5cdFx0dGlja3M6IHsgZGlzcGxheTogZmFsc2UgfSxcblx0XHRncmlkOiB7IGRpc3BsYXk6IGZhbHNlLCBkcmF3VGlja3M6IGZhbHNlIH0sXG5cdFx0bWluOiBtaW5ZLFxuXHRcdG1heDogbWF4WSxcblx0XHRib3JkZXI6IHsgZGlzcGxheTogZmFsc2UgfSxcblx0fSxcbn0pO1xuXG4vLyBTdHlsZSB0aGUgY2hhcnQgYXJlYVxuY29uc3Qgc3R5bGVDaGFydEFyZWEgPSAoY3R4LCBib3JkZXJSYWRpdXMsIGJhY2tncm91bmRDb2xvciwgaGVpZ2h0KSA9PiB7XG5cdGN0eC5zdHlsZS5ib3JkZXJSYWRpdXMgPSBib3JkZXJSYWRpdXM7XG5cdGN0eC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBiYWNrZ3JvdW5kQ29sb3I7XG5cdGN0eC5oZWlnaHQgPSBoZWlnaHQ7XG59O1xuXG4vLyBJbml0aWFsaXplIE1aSSBjaGFydCB3aXRoIGFkanVzdGVkIGhlaWdodFxuY29uc3QgaW5pdENoYXJ0TVpJID0gKCkgPT4ge1xuXHRjb25zdCBjdHggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoYXJ0X19kb3VnaG51dC0tbXppXCIpO1xuXHRpZiAoIWN0eCkgcmV0dXJuO1xuXHRjb25zdCBkYXRhID0gZ2V0TVpJRGF0YSgpO1xuXHRjb25zdCBvcHRpb25zID0gZ2V0TVpJT3B0aW9ucygpO1xuXHRjcmVhdGVDaGFydChjdHgsIFwiZG91Z2hudXRcIiwgZGF0YSwgb3B0aW9ucywgW2RyYXdJY29uc1BsdWdpbigpXSk7XG5cdGFkanVzdENoYXJ0SGVpZ2h0KGN0eCwgMTApO1xufTtcblxuLy8gQWRqdXN0IHRoZSBjaGFydCBoZWlnaHQgYmFzZWQgb24gdGhlIGNvbnRhaW5lcidzIGhlaWdodFxuY29uc3QgYWRqdXN0Q2hhcnRIZWlnaHQgPSAoY3R4LCBhZGp1c3RtZW50KSA9PiB7XG5cdGNvbnN0IGNvbnRhaW5lciA9IGN0eC5wYXJlbnRFbGVtZW50O1xuXHRpZiAoIWNvbnRhaW5lcikgcmV0dXJuO1xuXHRjb25zdCBjb250YWluZXJIZWlnaHQgPSBjb250YWluZXIuY2xpZW50SGVpZ2h0O1xuXHRjdHguaGVpZ2h0ID0gY29udGFpbmVySGVpZ2h0ICsgYWRqdXN0bWVudDtcbn07XG5cbi8vIEdldCBkYXRhIGZvciBNWkkgY2hhcnRcbmNvbnN0IGdldE1aSURhdGEgPSAoKSA9PiAoe1xuXHRsYWJlbHM6IFtcIkFuZ3J5XCIsIFwiTmV1dHJhbFwiLCBcIkhhcHB5XCJdLFxuXHRkYXRhc2V0czogW1xuXHRcdHtcblx0XHRcdGRhdGE6IFszMy4zMywgMzMuMzMsIDMzLjM0XSxcblx0XHRcdGJhY2tncm91bmRDb2xvcjogQXJyYXkoMykuZmlsbChcInJnYmEoMjE3LCAyMTcsIDIxNywgMSlcIiksXG5cdFx0XHRob3ZlckJhY2tncm91bmRDb2xvcjogQXJyYXkoMykuZmlsbChcInJnYmEoMjE3LCAyMTcsIDIxNywgMSlcIiksXG5cdFx0XHRib3JkZXJXaWR0aDogMSxcblx0XHRcdGJvcmRlckNvbG9yOiBcInJnYmEoMjE3LCAyMTcsIDIxNywgMSlcIixcblx0XHRcdGhvdmVyQm9yZGVyQ29sb3I6IFwicmdiYSgyMTcsIDIxNywgMjE3LCAxKVwiLFxuXHRcdH0sXG5cdF0sXG59KTtcblxuLy8gR2V0IG9wdGlvbnMgZm9yIE1aSSBjaGFydFxuY29uc3QgZ2V0TVpJT3B0aW9ucyA9ICgpID0+ICh7XG5cdHJhZGl1czogXCI4NSVcIixcblx0Y3V0b3V0OiBcIjgwJVwiLFxuXHRjaXJjdW1mZXJlbmNlOiAyMjAsXG5cdHJvdGF0aW9uOiAyNTAsXG5cdHJlc3BvbnNpdmU6IGZhbHNlLFxuXHRsYXlvdXQ6IHtcblx0XHRwYWRkaW5nOiB7XG5cdFx0XHR0b3A6IDMsXG5cdFx0fSxcblx0fSxcblx0cGx1Z2luczoge1xuXHRcdGxlZ2VuZDogeyBkaXNwbGF5OiBmYWxzZSB9LFxuXHRcdHRvb2x0aXA6IHsgZW5hYmxlZDogZmFsc2UgfSxcblx0fSxcbn0pO1xuXG4vLyBQbHVnaW4gdG8gZHJhdyBpY29ucyBvbiB0aGUgY2hhcnRcbmNvbnN0IGRyYXdJY29uc1BsdWdpbiA9ICgpID0+ICh7XG5cdGlkOiBcImRyYXdJY29uc1wiLFxuXHRhZnRlckRyYXc6IChjaGFydCkgPT4ge1xuXHRcdGNvbnN0IGN0eCA9IGNoYXJ0LmN0eDtcblx0XHRjdHguc2F2ZSgpO1xuXHRcdGNvbnN0IG1ldGEgPSBjaGFydC5nZXREYXRhc2V0TWV0YSgwKTtcblx0XHRtZXRhLmRhdGEuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcblx0XHRcdGNvbnN0IHsgb3V0ZXJSYWRpdXMsIGlubmVyUmFkaXVzIH0gPSBlbGVtZW50O1xuXHRcdFx0Y29uc3QgbWlkZGxlUmFkaXVzID0gKG91dGVyUmFkaXVzICsgaW5uZXJSYWRpdXMpIC8gMjtcblx0XHRcdGNvbnN0IGFuZ2xlID0gY2FsY3VsYXRlQW5nbGUoZWxlbWVudCwgaW5kZXgpO1xuXHRcdFx0Y29uc3QgeCA9IGVsZW1lbnQueCArIE1hdGguY29zKGFuZ2xlKSAqIG1pZGRsZVJhZGl1cztcblx0XHRcdGNvbnN0IHkgPSBlbGVtZW50LnkgKyBNYXRoLnNpbihhbmdsZSkgKiBtaWRkbGVSYWRpdXM7XG5cdFx0XHRkcmF3SWNvbihjdHgsIHgsIHksIGluZGV4KTtcblx0XHR9KTtcblx0XHRjdHgucmVzdG9yZSgpO1xuXHR9LFxufSk7XG5cbi8vIENhbGN1bGF0ZSBhbmdsZSBmb3IgaWNvbiBwbGFjZW1lbnRcbmNvbnN0IGNhbGN1bGF0ZUFuZ2xlID0gKGVsZW1lbnQsIGluZGV4KSA9PiB7XG5cdGlmIChpbmRleCA9PT0gMCkgcmV0dXJuIGVsZW1lbnQuc3RhcnRBbmdsZTtcblx0aWYgKGluZGV4ID09PSAyKSByZXR1cm4gZWxlbWVudC5lbmRBbmdsZTtcblx0cmV0dXJuIGVsZW1lbnQuc3RhcnRBbmdsZSArIChlbGVtZW50LmVuZEFuZ2xlIC0gZWxlbWVudC5zdGFydEFuZ2xlKSAvIDI7XG59O1xuXG4vLyBEcmF3IGljb24gb24gdGhlIGNoYXJ0XG5jb25zdCBkcmF3SWNvbiA9IChjdHgsIHgsIHksIGluZGV4KSA9PiB7XG5cdGNvbnN0IGljb25TaXplID0gMjQ7XG5cdGNvbnN0IGJvcmRlclNpemUgPSA0O1xuXHRjb25zdCBib3JkZXJDb2xvciA9IFwiI2ZmZlwiO1xuXHRjb25zdCBpY29ucyA9IFtcIvCfmKFcIiwgXCLwn5iQXCIsIFwi8J+YgFwiXTtcblx0Y29uc3QgbWFza0NvbG9yID0gXCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMzIpXCI7XG5cblx0Y3R4Lmdsb2JhbEFscGhhID0gMTtcblx0Y3R4LmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcblx0Y3R4LmJlZ2luUGF0aCgpO1xuXHRjdHguYXJjKHgsIHksIGljb25TaXplIC8gMiArIGJvcmRlclNpemUsIDAsIE1hdGguUEkgKiAyKTtcblx0Y3R4LmZpbGwoKTtcblx0Y3R4LmxpbmVXaWR0aCA9IGJvcmRlclNpemU7XG5cdGN0eC5zdHJva2VTdHlsZSA9IGJvcmRlckNvbG9yO1xuXHRjdHguc3Ryb2tlKCk7XG5cblx0Y3R4LmZvbnQgPSBgJHtpY29uU2l6ZX1weCBBcmlhbGA7XG5cdGN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuXHRjdHgudGV4dEJhc2VsaW5lID0gXCJtaWRkbGVcIjtcblx0Y3R4LmZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcblx0Y3R4LmZpbGxUZXh0KGljb25zW2luZGV4XSwgeCwgeSk7XG5cblx0Y3R4Lmdsb2JhbEFscGhhID0gMTtcblx0Y3R4LmZpbGxTdHlsZSA9IG1hc2tDb2xvcjtcblx0Y3R4LmJlZ2luUGF0aCgpO1xuXHRjdHguYXJjKHgsIHksIGljb25TaXplIC8gMiwgMCwgTWF0aC5QSSAqIDIpO1xuXHRjdHguZmlsbCgpO1xufTtcblxuLy8gSW5pdGlhbGl6ZSBTdXJ2ZXkgY2hhcnRcbmNvbnN0IGluaXRDaGFydFN1cnZleSA9ICgpID0+IHtcblx0Y29uc3QgY3R4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGFydF9fYmFyLS1zdXJ2ZXlcIik7XG5cdGlmICghY3R4KSByZXR1cm47XG5cdGNvbnN0IGRhdGEgPSBnZXRTdXJ2ZXlEYXRhKCk7XG5cdGNvbnN0IG9wdGlvbnMgPSBnZXRTdXJ2ZXlPcHRpb25zKCk7XG5cdGNyZWF0ZUNoYXJ0KGN0eCwgXCJiYXJcIiwgZGF0YSwgb3B0aW9ucyk7XG59O1xuXG4vLyBHZXQgZGF0YSBmb3IgU3VydmV5IGNoYXJ0XG5jb25zdCBnZXRTdXJ2ZXlEYXRhID0gKCkgPT4gKHtcblx0bGFiZWxzOiBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMiB9LCAoXywgaSkgPT4gU3RyaW5nLmZyb21DaGFyQ29kZSg2NSArIGkpKSxcblx0ZGF0YXNldHM6IFtcblx0XHR7XG5cdFx0XHRkYXRhOiBbNC4zLCAxLjgsIDIuMywgNC4zLCAxLjMsIDQuMywgNC4zLCAxLjksIDIuMywgNC4zLCAxLjMsIDQuM10sXG5cdFx0XHRiYWNrZ3JvdW5kQ29sb3I6IFtcInJnYmEoMjQxLCAxNDAsIDkyLCAxKVwiXSxcblx0XHRcdGJvcmRlcldpZHRoOiAwLFxuXHRcdFx0YmFyVGhpY2tuZXNzOiAxNSxcblx0XHRcdGJvcmRlclJhZGl1czogeyB0b3BMZWZ0OiA2LCB0b3BSaWdodDogNiwgYm90dG9tUmlnaHQ6IDAsIGJvdHRvbUxlZnQ6IDAgfSxcblx0XHR9LFxuXHRdLFxufSk7XG5cbi8vIEdldCBvcHRpb25zIGZvciBTdXJ2ZXkgY2hhcnRcbmNvbnN0IGdldFN1cnZleU9wdGlvbnMgPSAoKSA9PiAoe1xuXHRwbHVnaW5zOiB7XG5cdFx0bGVnZW5kOiB7IGRpc3BsYXk6IGZhbHNlIH0sXG5cdH0sXG5cdHNjYWxlczoge1xuXHRcdHk6IHtcblx0XHRcdGJlZ2luQXRaZXJvOiBmYWxzZSxcblx0XHRcdG1pbjogMSxcblx0XHRcdG1heDogNSxcblx0XHRcdHRpY2tzOiB7XG5cdFx0XHRcdHN0ZXBTaXplOiAxLFxuXHRcdFx0XHRmb250OiB7IGZhbWlseTogXCJJbnRlclwiLCBzaXplOiAxMiB9LFxuXHRcdFx0XHRjb2xvcjogXCJyZ2JhKDk3LCAxMTAsIDEzMywgMSlcIixcblx0XHRcdFx0cGFkZGluZzogMCxcblx0XHRcdFx0Y2FsbGJhY2s6ICh2YWx1ZSkgPT4gYCR7dmFsdWV9IFxcdTAwQTBcXHUwMEEwXFx1MDBBMGAsXG5cdFx0XHR9LFxuXHRcdFx0Z3JpZDogeyBkcmF3VGlja3M6IGZhbHNlIH0sXG5cdFx0XHRib3JkZXI6IHsgZGlzcGxheTogZmFsc2UgfSxcblx0XHR9LFxuXHRcdHg6IHtcblx0XHRcdHRpY2tzOiB7IGZvbnQ6IHsgZmFtaWx5OiBcIkludGVyXCIsIHNpemU6IDEyIH0sIGNvbG9yOiBcInJnYmEoOTcsIDExMCwgMTMzLCAxKVwiIH0sXG5cdFx0XHRncmlkOiB7IGRpc3BsYXk6IGZhbHNlIH0sXG5cdFx0fSxcblx0fSxcbn0pO1xuXG4vLyBJbml0aWFsaXplIEtQIGNoYXJ0XG5jb25zdCBpbml0Q2hhcnRLUCA9ICgpID0+IHtcblx0Y29uc3QgY3R4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGFydF9fYmFyLS1rcFwiKTtcblx0aWYgKCFjdHgpIHJldHVybjtcblx0Y29uc3QgZGF0YSA9IGdldEtQRGF0YSgpO1xuXHRjb25zdCBvcHRpb25zID0gZ2V0S1BPcHRpb25zKCk7XG5cdGNvbnN0IGNoYXJ0ID0gY3JlYXRlQ2hhcnQoY3R4LCBcImJhclwiLCBkYXRhLCBvcHRpb25zKTtcblx0Y2hhcnQub3B0aW9ucy5wbHVnaW5zLmxlZ2VuZC5vbkNsaWNrID0gKCkgPT4ge307XG59O1xuXG4vLyBHZXQgZGF0YSBmb3IgS1AgY2hhcnRcbmNvbnN0IGdldEtQRGF0YSA9ICgpID0+ICh7XG5cdGxhYmVsczogW1wiS1AxXCIsIFwiS1AyXCIsIFwiS1AzXCIsIFwiS1A0XCIsIFwiS1A1XCJdLFxuXHRkYXRhc2V0czogW1xuXHRcdHtcblx0XHRcdGxhYmVsOiBcIktQIFZhbHVlXCIsXG5cdFx0XHRkYXRhOiBbODUsIDcwLCAyMCwgNjAsIDIwXSxcblx0XHRcdGJhY2tncm91bmRDb2xvcjogW1xuXHRcdFx0XHRcInJnYmEoODEsIDg1LCAxOTUsIDEpXCIsXG5cdFx0XHRcdFwicmdiYSg4OSwgMTI1LCAxOTAsIDEpXCIsXG5cdFx0XHRcdFwicmdiYSg5NSwgMTUzLCAxODcsIDEpXCIsXG5cdFx0XHRcdFwicmdiYSgxMDEsIDE4NCwgMTgzLCAxKVwiLFxuXHRcdFx0XHRcInJnYmEoMTA4LCAyMjEsIDE3NywgMSlcIixcblx0XHRcdF0sXG5cdFx0XHRib3JkZXJXaWR0aDogMCxcblx0XHRcdGJhclRoaWNrbmVzczogXCJmbGV4XCIsXG5cdFx0XHRib3JkZXJSYWRpdXM6IHsgdG9wTGVmdDogNiwgdG9wUmlnaHQ6IDYsIGJvdHRvbVJpZ2h0OiAwLCBib3R0b21MZWZ0OiAwIH0sXG5cdFx0fSxcblx0XSxcbn0pO1xuXG4vLyBHZXQgb3B0aW9ucyBmb3IgS1AgY2hhcnRcbmNvbnN0IGdldEtQT3B0aW9ucyA9ICgpID0+ICh7XG5cdHBsdWdpbnM6IHtcblx0XHRsZWdlbmQ6IHtcblx0XHRcdGRpc3BsYXk6IHRydWUsXG5cdFx0XHRwb3NpdGlvbjogXCJib3R0b21cIixcblx0XHRcdGxhYmVsczoge1xuXHRcdFx0XHRmb250OiB7IGZhbWlseTogXCJJbnRlclwiLCBzaXplOiAxMiB9LFxuXHRcdFx0XHRjb2xvcjogXCJyZ2JhKDk3LCAxMTAsIDEzMywgMSlcIixcblx0XHRcdFx0Ym94V2lkdGg6IDEyLFxuXHRcdFx0XHRib3hIZWlnaHQ6IDEyLFxuXHRcdFx0XHRnZW5lcmF0ZUxhYmVsczogKGNoYXJ0KSA9PiBnZW5lcmF0ZUxlZ2VuZExhYmVscyhjaGFydCksXG5cdFx0XHR9LFxuXHRcdH0sXG5cdH0sXG5cdGxheW91dDoge1xuXHRcdG1hcmdpbjoge1xuXHRcdFx0Ym90dG9tOiA1LCAvLyBBZGQgcGFkZGluZyBiZWZvcmUgdGhlIGxlZ2VuZFxuXHRcdH0sXG5cdH0sXG5cdHNjYWxlczoge1xuXHRcdHk6IHtcblx0XHRcdGJlZ2luQXRaZXJvOiB0cnVlLFxuXHRcdFx0bWluOiAwLFxuXHRcdFx0bWF4OiAxMDAsXG5cdFx0XHR0aWNrczoge1xuXHRcdFx0XHRzdGVwU2l6ZTogMjUsXG5cdFx0XHRcdGZvbnQ6IHsgZmFtaWx5OiBcIkludGVyXCIsIHNpemU6IDEyIH0sXG5cdFx0XHRcdGNvbG9yOiBcInJnYmEoOTcsIDExMCwgMTMzLCAxKVwiLFxuXHRcdFx0XHRjYWxsYmFjazogKHZhbHVlKSA9PiBgJHt2YWx1ZX0lICBcXHUwMEEwXFx1MDBBMFxcdTAwQTBgLFxuXHRcdFx0fSxcblx0XHRcdGdyaWQ6IHsgZHJhd1RpY2tzOiBmYWxzZSB9LFxuXHRcdFx0Ym9yZGVyOiB7IGRpc3BsYXk6IGZhbHNlIH0sXG5cdFx0fSxcblx0XHR4OiB7XG5cdFx0XHR0aWNrczogeyBmb250OiB7IGZhbWlseTogXCJJbnRlclwiLCBzaXplOiAxMiB9LCBjb2xvcjogXCJyZ2JhKDk3LCAxMTAsIDEzMywgMSlcIiB9LFxuXHRcdFx0Z3JpZDogeyBkaXNwbGF5OiBmYWxzZSB9LFxuXHRcdH0sXG5cdH0sXG59KTtcblxuLy8gR2VuZXJhdGUgbGVnZW5kIGxhYmVscyBmb3IgS1AgY2hhcnRcbmNvbnN0IGdlbmVyYXRlTGVnZW5kTGFiZWxzID0gKGNoYXJ0KSA9PiB7XG5cdGNvbnN0IGRhdGEgPSBjaGFydC5kYXRhO1xuXHRpZiAoZGF0YS5sYWJlbHMubGVuZ3RoICYmIGRhdGEuZGF0YXNldHMubGVuZ3RoKSB7XG5cdFx0cmV0dXJuIGRhdGEubGFiZWxzLm1hcCgobGFiZWwsIGkpID0+IHtcblx0XHRcdGNvbnN0IGRhdGFzZXQgPSBkYXRhLmRhdGFzZXRzWzBdO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0dGV4dDogbGFiZWwsXG5cdFx0XHRcdGZpbGxTdHlsZTogZGF0YXNldC5iYWNrZ3JvdW5kQ29sb3JbaV0sXG5cdFx0XHRcdGhpZGRlbjogZmFsc2UsXG5cdFx0XHRcdGxpbmVDYXA6IFwiYnV0dFwiLFxuXHRcdFx0XHRsaW5lRGFzaDogW10sXG5cdFx0XHRcdGxpbmVEYXNoT2Zmc2V0OiAwLFxuXHRcdFx0XHRsaW5lSm9pbjogXCJtaXRlclwiLFxuXHRcdFx0XHRsaW5lV2lkdGg6IDEsXG5cdFx0XHRcdHN0cm9rZVN0eWxlOiBkYXRhc2V0LmJhY2tncm91bmRDb2xvcltpXSxcblx0XHRcdFx0cG9pbnRTdHlsZTogXCJyZWN0Um91bmRlZFwiLFxuXHRcdFx0XHRib3JkZXJSYWRpdXM6IDQsXG5cdFx0XHRcdHJvdGF0aW9uOiAwLFxuXHRcdFx0fTtcblx0XHR9KTtcblx0fVxuXHRyZXR1cm4gW107XG59O1xuXG4vLyBJbml0aWFsaXplIEtJIGNoYXJ0XG5jb25zdCBpbml0Q2hhcnRLSSA9ICgpID0+IHtcblx0Y29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGFydF9fZG91Z2hudXQtLWtpXCIpO1xuXHRjb25zdCBpbm5lciA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmNoYXJ0X19raS0tb3V0ZXJcIik7XG5cdGNvbnN0IG91dGVyID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuY2hhcnRfX2tpLS1pbm5lclwiKTtcblxuXHRjb25zdCB0b3RhbERlZ3JlZXMgPSAyMTA7XG5cdC8vIE91dGVyIGNpcmNsZSB3aXRoIDQwIHRpY2tzXG5cdGNvbnN0IG51bWJlck9mVGlja3NPdXRlciA9IDQwO1xuXG5cdGNvbnN0IGRlZ3JlZXNQZXJUaWNrT3V0ZXIgPSB0b3RhbERlZ3JlZXMgLyAobnVtYmVyT2ZUaWNrc091dGVyIC0gMSk7XG5cblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBudW1iZXJPZlRpY2tzT3V0ZXI7IGkrKykge1xuXHRcdGNvbnN0IHRpY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXHRcdHRpY2suY2xhc3NOYW1lID0gXCJ0aWNrXCI7XG5cdFx0dGljay5zdHlsZS50cmFuc2Zvcm0gPSBgcm90YXRlKCR7aSAqIGRlZ3JlZXNQZXJUaWNrT3V0ZXJ9ZGVnKWA7XG5cdFx0b3V0ZXIuYXBwZW5kQ2hpbGQodGljayk7XG5cdH1cblxuXHQvLyBJbm5lciBjaXJjbGUgd2l0aCA0NiB0aWNrc1xuXHRjb25zdCBudW1iZXJPZlRpY2tzSW5uZXIgPSA0Njtcblx0Y29uc3QgZGVncmVlc1BlclRpY2tJbm5lciA9IHRvdGFsRGVncmVlcyAvIChudW1iZXJPZlRpY2tzSW5uZXIgLSAxKTtcblxuXHRmb3IgKGxldCBpID0gMDsgaSA8IG51bWJlck9mVGlja3NJbm5lcjsgaSsrKSB7XG5cdFx0Y29uc3QgdGljayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0dGljay5jbGFzc05hbWUgPSBcInRpY2tcIjtcblx0XHR0aWNrLnN0eWxlLnRyYW5zZm9ybSA9IGByb3RhdGUoJHtpICogZGVncmVlc1BlclRpY2tJbm5lcn1kZWcpYDtcblx0XHRpbm5lci5hcHBlbmRDaGlsZCh0aWNrKTtcblx0fVxufTtcbiJdfQ==
